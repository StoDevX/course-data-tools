from .calculate_terms import find_terms_for_year, find_terms, get_years_and_terms, calculate_terms

from datetime import date

def test_find_terms_for_year():
	assert find_terms_for_year(2000, date(2001, 1, 1)) == [20001, 20002, 20003, 20004, 20005]
	assert find_terms_for_year(2001, date(2000, 1, 1)) == []

	assert find_terms_for_year(2000, date(2000, 1, 1)) == []
	assert find_terms_for_year(2000, date(2000, 4, 1)) == [20001, 20002, 20003]
	assert find_terms_for_year(2000, date(2000, 8, 1)) == [20001, 20002, 20003, 20004, 20005]


def test_find_terms():
	assert find_terms(start_year=2017, end_year=2018, now=date(2018, 8, 20)) == [
		[20171, 20172, 20173, 20174, 20175],
		[20181, 20182, 20183, 20184, 20185],
	]

	assert find_terms(now=date(2018, 6, 20)) == [
		[19941, 19942, 19943, 19944, 19945],
		[19951, 19952, 19953, 19954, 19955],
		[19961, 19962, 19963, 19964, 19965],
		[19971, 19972, 19973, 19974, 19975],
		[19981, 19982, 19983, 19984, 19985],
		[19991, 19992, 19993, 19994, 19995],
		[20001, 20002, 20003, 20004, 20005],
		[20011, 20012, 20013, 20014, 20015],
		[20021, 20022, 20023, 20024, 20025],
		[20031, 20032, 20033, 20034, 20035],
		[20041, 20042, 20043, 20044, 20045],
		[20051, 20052, 20053, 20054, 20055],
		[20061, 20062, 20063, 20064, 20065],
		[20071, 20072, 20073, 20074, 20075],
		[20081, 20082, 20083, 20084, 20085],
		[20091, 20092, 20093, 20094, 20095],
		[20101, 20102, 20103, 20104, 20105],
		[20111, 20112, 20113, 20114, 20115],
		[20121, 20122, 20123, 20124, 20125],
		[20131, 20132, 20133, 20134, 20135],
		[20141, 20142, 20143, 20144, 20145],
		[20151, 20152, 20153, 20154, 20155],
		[20161, 20162, 20163, 20164, 20165],
		[20171, 20172, 20173, 20174, 20175],
		[20181, 20182, 20183],
	]

	assert find_terms(now=date(2018, 8, 20)) == [
		[19941, 19942, 19943, 19944, 19945],
		[19951, 19952, 19953, 19954, 19955],
		[19961, 19962, 19963, 19964, 19965],
		[19971, 19972, 19973, 19974, 19975],
		[19981, 19982, 19983, 19984, 19985],
		[19991, 19992, 19993, 19994, 19995],
		[20001, 20002, 20003, 20004, 20005],
		[20011, 20012, 20013, 20014, 20015],
		[20021, 20022, 20023, 20024, 20025],
		[20031, 20032, 20033, 20034, 20035],
		[20041, 20042, 20043, 20044, 20045],
		[20051, 20052, 20053, 20054, 20055],
		[20061, 20062, 20063, 20064, 20065],
		[20071, 20072, 20073, 20074, 20075],
		[20081, 20082, 20083, 20084, 20085],
		[20091, 20092, 20093, 20094, 20095],
		[20101, 20102, 20103, 20104, 20105],
		[20111, 20112, 20113, 20114, 20115],
		[20121, 20122, 20123, 20124, 20125],
		[20131, 20132, 20133, 20134, 20135],
		[20141, 20142, 20143, 20144, 20145],
		[20151, 20152, 20153, 20154, 20155],
		[20161, 20162, 20163, 20164, 20165],
		[20171, 20172, 20173, 20174, 20175],
		[20181, 20182, 20183, 20184, 20185],
	]
